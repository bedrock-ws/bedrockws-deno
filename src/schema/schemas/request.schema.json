{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "anyOf": [
    {
      "type": "object",
      "properties": {
        "header": {
          "type": "object",
          "properties": {
            "version": {
              "description": "Protocol version",
              "type": "number",
              "const": 1
            },
            "requestId": {
              "type": "string",
              "format": "uuid",
              "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
            },
            "messageType": { "type": "string", "const": "commandRequest" },
            "messagePurpose": { "type": "string", "const": "subscribe" }
          },
          "required": ["version", "requestId", "messageType", "messagePurpose"],
          "additionalProperties": false
        },
        "body": {
          "type": "object",
          "properties": {
            "eventName": {
              "type": "string",
              "enum": [
                "AdditionalContentLoaded",
                "AgentCommand",
                "AgentCreated",
                "ApiInit",
                "AppPaused",
                "AppResumed",
                "AppSuspended",
                "AwardAchievement",
                "BlockBroken",
                "BlockPlaced",
                "BoardTextUpdated",
                "BossKilled",
                "CameraUsed",
                "CauldronUsed",
                "ConfigurationChanged",
                "ConnectionFailed",
                "CraftingSessionCompleted",
                "EndOfDay",
                "EntitySpawned",
                "FileTransmissionCancelled",
                "FileTransmissionCompleted",
                "FileTransmissionStarted",
                "FirstTimeClientOpen",
                "FocusGained",
                "FocusLost",
                "GameSessionComplete",
                "GameSessionStart",
                "HardwareInfo",
                "HasNewContent",
                "ItemAcquired",
                "ItemCrafted",
                "ItemDestroyed",
                "ItemDropped",
                "ItemEnchanted",
                "ItemSmelted",
                "ItemUsed",
                "JoinCanceled",
                "JukeboxUsed",
                "LicenseCensus",
                "MascotCreated",
                "MenuShown",
                "MobInteracted",
                "MobKilled",
                "MultiplayerConnectionStateChanged",
                "MultiplayerRoundEnd",
                "MultiplayerRoundStart",
                "NpcPropertiesUpdated",
                "OptionsUpdated",
                "PerformanceMetrics",
                "PlayerBounced",
                "PlayerDied",
                "PlayerJoin",
                "PlayerLeave",
                "PlayerMessage",
                "PlayerTeleported",
                "PlayerTransform",
                "PlayerTravelled",
                "PortalBuilt",
                "PortalUsed",
                "PortfolioExported",
                "PotionBrewed",
                "PurchaseAttempt",
                "PurchaseResolved",
                "RegionalPopup",
                "RespondedToAcceptContent",
                "ScreenChanged",
                "ScreenHeartbeat",
                "SignInToEdu",
                "SignInToXboxLive",
                "SignOutOfXboxLive",
                "SpecialMobBuilt",
                "StartClient",
                "StartWorld",
                "TextToSpeechToggled",
                "UgcDownloadCompleted",
                "UgcDownloadStarted",
                "UploadSkin",
                "VehicleExited",
                "WorldExported",
                "WorldFilesListed",
                "WorldGenerated",
                "WorldLoaded",
                "WorldUnloaded"
              ]
            }
          },
          "required": ["eventName"],
          "additionalProperties": false
        }
      },
      "required": ["header", "body"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "header": {
          "type": "object",
          "properties": {
            "version": {
              "description": "Protocol version",
              "type": "number",
              "const": 1
            },
            "requestId": {
              "type": "string",
              "format": "uuid",
              "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
            },
            "messageType": { "type": "string", "const": "commandRequest" },
            "messagePurpose": { "type": "string", "const": "unsubscribe" }
          },
          "required": ["version", "requestId", "messageType", "messagePurpose"],
          "additionalProperties": false
        },
        "body": {
          "type": "object",
          "properties": {
            "eventName": {
              "type": "string",
              "enum": [
                "AdditionalContentLoaded",
                "AgentCommand",
                "AgentCreated",
                "ApiInit",
                "AppPaused",
                "AppResumed",
                "AppSuspended",
                "AwardAchievement",
                "BlockBroken",
                "BlockPlaced",
                "BoardTextUpdated",
                "BossKilled",
                "CameraUsed",
                "CauldronUsed",
                "ConfigurationChanged",
                "ConnectionFailed",
                "CraftingSessionCompleted",
                "EndOfDay",
                "EntitySpawned",
                "FileTransmissionCancelled",
                "FileTransmissionCompleted",
                "FileTransmissionStarted",
                "FirstTimeClientOpen",
                "FocusGained",
                "FocusLost",
                "GameSessionComplete",
                "GameSessionStart",
                "HardwareInfo",
                "HasNewContent",
                "ItemAcquired",
                "ItemCrafted",
                "ItemDestroyed",
                "ItemDropped",
                "ItemEnchanted",
                "ItemSmelted",
                "ItemUsed",
                "JoinCanceled",
                "JukeboxUsed",
                "LicenseCensus",
                "MascotCreated",
                "MenuShown",
                "MobInteracted",
                "MobKilled",
                "MultiplayerConnectionStateChanged",
                "MultiplayerRoundEnd",
                "MultiplayerRoundStart",
                "NpcPropertiesUpdated",
                "OptionsUpdated",
                "PerformanceMetrics",
                "PlayerBounced",
                "PlayerDied",
                "PlayerJoin",
                "PlayerLeave",
                "PlayerMessage",
                "PlayerTeleported",
                "PlayerTransform",
                "PlayerTravelled",
                "PortalBuilt",
                "PortalUsed",
                "PortfolioExported",
                "PotionBrewed",
                "PurchaseAttempt",
                "PurchaseResolved",
                "RegionalPopup",
                "RespondedToAcceptContent",
                "ScreenChanged",
                "ScreenHeartbeat",
                "SignInToEdu",
                "SignInToXboxLive",
                "SignOutOfXboxLive",
                "SpecialMobBuilt",
                "StartClient",
                "StartWorld",
                "TextToSpeechToggled",
                "UgcDownloadCompleted",
                "UgcDownloadStarted",
                "UploadSkin",
                "VehicleExited",
                "WorldExported",
                "WorldFilesListed",
                "WorldGenerated",
                "WorldLoaded",
                "WorldUnloaded"
              ]
            }
          },
          "required": ["eventName"],
          "additionalProperties": false
        }
      },
      "required": ["header", "body"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "header": {
          "type": "object",
          "properties": {
            "version": {
              "description": "Protocol version",
              "type": "number",
              "const": 1
            },
            "requestId": {
              "type": "string",
              "format": "uuid",
              "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
            },
            "messageType": { "type": "string", "const": "commandRequest" },
            "messagePurpose": { "type": "string", "const": "commandRequest" }
          },
          "required": ["version", "requestId", "messageType", "messagePurpose"],
          "additionalProperties": false
        },
        "body": {
          "type": "object",
          "properties": {
            "version": {
              "description": "Minecraft version of the command syntax",
              "type": "string",
              "minLength": 1
            },
            "commandLine": {
              "description": "The Minecraft command to request (without slash prefix)",
              "type": "string",
              "minLength": 1
            },
            "origin": {
              "type": "object",
              "properties": { "type": { "type": "string", "const": "player" } },
              "required": ["type"],
              "additionalProperties": false
            }
          },
          "required": ["commandLine"],
          "additionalProperties": false
        }
      },
      "required": ["header", "body"],
      "additionalProperties": false
    }
  ]
}
